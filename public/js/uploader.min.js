!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=44)}({44:function(e,t,n){e.exports=n(45)},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.btn=$("#btnUpload"),this.dropArea=$(".drop-area"),this.files=null,this.form=$("#uploadform"),this.input=$("#file"),this.createFormData=this.createFormData.bind(this),this.listeners=this.listeners.bind(this),this.doUpload=this.doUpload.bind(this),this.getExtension=this.getExtension.bind(this)}return r(e,[{key:"listeners",value:function(){var e=this;this.input.on("change",function(t){var n=$(this).val();""!==n&&"xml"===e.getExtension(n)?(e.files=t.target.files,e.btn.addClass("green")):alert("Please select a XML file.")}),this.dropArea.on("dragenter",function(e){e.preventDefault(),$(this).css("background","#BBD5B8")}),this.dropArea.on("dragover",function(e){e.preventDefault(),$(this).css("background","#BBD5B8")}),this.dropArea.on("dragout",function(e){e.preventDefault(),$(this).css("background","#f7f7f7")}),this.dropArea.on("drop",function(t){t.preventDefault(),$(this).css("background","#f7f7f7"),e.files=t.originalEvent.dataTransfer.files,e.btn.addClass("green")}),this.form.on("submit",function(t){t.preventDefault();var n=e.files;null!==n&&n.length>0&&e.createFormData(n)})}},{key:"createFormData",value:function(e){var t=new FormData;t.append("file",e[0]),t.append("_token",this.form.find('input[name="_token"]').val()),this.doUpload(t)}},{key:"doUpload",value:function(e){var t=this;t.btn.addClass("loading"),$.ajax({url:"upload",type:"POST",data:e,contentType:!1,cache:!1,processData:!1,fail:function(){alert("Sorry, something is wrong."),t.btn.removeClass("loading green"),t.input.val("")},success:function(e){t.btn.removeClass("loading green"),t.input.val(""),e.success?alert(e.success):e.error&&alert(e.error)}})}},{key:"getExtension",value:function(e){if("string"==typeof e&&""!==e){var t=e.split(".");if(t.length>1)return t.pop().toLocaleLowerCase()}return!1}}]),e}())).listeners()}});